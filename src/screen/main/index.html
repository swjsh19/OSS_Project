<!DOCTYPE html>
<html lang="en">
<head>

  <!-- 문서 제목 -->
  <title>달력 예제</title>

  <!-- 스타일시트 -->
  <style>
    /* 테이블 전체 설정 */
    table {
      border-collapse: collapse;
      width: 100%;
    }

    /* 테이블 셀 공통 스타일 */
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
      position: relative; /* 상대적 위치 지정 */
    }

    /* 테이블 헤더 스타일 */
    th {
      background-color: #f2f2f2; /* 배경색 지정 */
    }

    /* 달력 이전/다음 달 이동 버튼 스타일 */
    .nav-btn {
      cursor: pointer; /* 포인터로 변경하여 클릭 가능하도록 함 */
      padding: 5px 10px;
      background-color: #4caf50; /* 배경색 지정 */
      color: white; /* 글자색 지정 */
      border: none; /* 테두리 없애기 */
      border-radius: 3px; /* 모서리를 둥글게 만듦 */
    }

    /* 달력 정보 표시 스타일 */
    #calendar-info {
      margin: 10px 0;
      font-weight: bold; /* 글자 굵게 설정 */
    }

    /* 오늘 날짜에 배경색 추가 스타일 */
    .today {
      background-color: #87CEEB; /* 하늘색 배경색 */
    }

    /* 다른 달의 날짜 글자색 설정 */
    .other-month {
      color: #999;
    }
  </style>
</head>
<body>

  <!-- 이전 달로 이동하는 버튼 -->
  <button class="nav-btn" onclick="changeMonth(-1)">이전 달</button>

  <!-- 달력 정보 표시 -->
  <div id="calendar-info"></div>

  <!-- 달력 표시 컨테이너 -->
  <div id="calendar-container"></div>

  <!-- 다음 달로 이동하는 버튼 -->
  <button class="nav-btn" onclick="changeMonth(1)">다음 달</button>

  <!-- 스크립트 부분 -->
  <script>
    // 현재 연도와 월을 저장할 변수
    let currentYear;
    let currentMonth;

    // 달력을 생성하는 함수
    function generateCalendar(year, month) {
      // 해당 월의 일수와 첫 날의 요일을 계산
      const daysInMonth = new Date(year, month + 1, 0).getDate();
      const firstDay = new Date(year, month, 1).getDay();

      // 테이블 시작
      let html = '<table>';
      html += '<tr><th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th></tr>';
      
      let dayCount = 1;

      // 6주(행) 동안 반복
      for (let i = 0; i < 6; i++) {
        html += '<tr>';

        // 7일(열) 동안 반복
        for (let j = 0; j < 7; j++) {
          // 이전 달의 날짜 표시
          if (i === 0 && j < firstDay) {
            const prevMonthDays = new Date(year, month, 0).getDate();
            html += `<td class="other-month">${prevMonthDays - firstDay + j + 1}</td>`;
          } else if (dayCount <= daysInMonth) {
            const currentDate = new Date();
            let cellClass = '';

            // 오늘 날짜에 배경색 추가
            if (year === currentDate.getFullYear() && month === currentDate.getMonth() && dayCount === currentDate.getDate()) {
              cellClass = 'today';
            }

            html += `<td class="${cellClass}">${dayCount}</td>`;
            dayCount++;
          } else {
            // 다음 달의 날짜 표시
            const nextMonthDays = dayCount - daysInMonth;
            html += `<td class="other-month">${nextMonthDays}</td>`;
            dayCount++;
          }
        }

        html += '</tr>';
      }

      // 테이블 종료
      html += '</table>';

      return html;
    }

    // 월 변경 함수
    function changeMonth(offset) {
      currentMonth += offset;

      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      } else if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }

      // 달력 업데이트
      updateCalendar();
    }

    // 달력 업데이트 함수
    function updateCalendar() {
      const calendarContainer = document.getElementById('calendar-container');
      calendarContainer.innerHTML = generateCalendar(currentYear, currentMonth);

      const calendarInfo = document.getElementById('calendar-info');
      calendarInfo.textContent = `${currentYear}년 ${currentMonth + 1}월`;
    }

    // 현재 날짜 정보 가져오기
    const currentDate = new Date();
    currentYear = currentDate.getFullYear();
    currentMonth = currentDate.getMonth();

    // 초기 달력 업데이트
    updateCalendar();
  </script>

</body>
</html>
